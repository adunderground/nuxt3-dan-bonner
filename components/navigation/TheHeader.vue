<template>
  <header class="header">
    <div class="header__left">
      <NuxtLink to="/">
        <img
          v-if="$colorMode.preference === 'light'"
          class="header__logo"
          src="/images/db_logo.png"
          alt="Dan Bonner Logo"
        />
        <img
          v-if="$colorMode.preference === 'dark'"
          class="header__logo"
          src="/images/db_logo-dark.png"
          alt="Dan Bonner Logo"
        />
      </NuxtLink>
    </div>
    <div class="header__right">
      <NuxtLink to="/projects">Work</NuxtLink>
      <NuxtLink to="/about">About</NuxtLink>
      <button
        class="button"
        @click="
          setColorMode($colorMode.preference === 'dark' ? 'light' : 'dark')
        "
      >
        <!-- 

       -->
        <svg
          v-if="$colorMode.preference === 'light'"
          width="32px"
          height="32px"
          viewBox="0 0 32 32"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            id="Path_70"
            data-name="Path 70"
            d="M12.516,4.509A12,12,0,0,0,22.3,19.881,12.317,12.317,0,0,0,24,20a11.984,11.984,0,0,0,3.49-.514,12.1,12.1,0,0,1-9.963,8.421A12.679,12.679,0,0,1,16,28,12,12,0,0,1,12.516,4.509M16,0a16.5,16.5,0,0,0-2.212.15A16,16,0,0,0,16,32a16.526,16.526,0,0,0,2.01-.123A16.04,16.04,0,0,0,31.85,18.212,16.516,16.516,0,0,0,32,15.944,1.957,1.957,0,0,0,30,14a2.046,2.046,0,0,0-1.23.413A7.942,7.942,0,0,1,24,16a8.35,8.35,0,0,1-1.15-.08,7.995,7.995,0,0,1-5.264-12.7A2.064,2.064,0,0,0,16.056,0Z"
            fill="#000000"
          />
        </svg>

        <svg
          v-if="$colorMode.preference === 'dark'"
          xmlns="http://www.w3.org/2000/svg"
          width="32px"
          height="32px"
          viewBox="0 0 41 41"
          style="enable-background: new 0 0 41 41"
          fill="#ffffff"
        >
          <g>
            <path
              d="M30.52,20.5c0,5.533-4.485,10.018-10.02,10.018c-5.532,0-10.018-4.483-10.018-10.018S14.967,10.482,20.5,10.482
		S30.52,14.967,30.52,20.5z M20.5,7.333c0.555,0,1-0.448,1-1V1c0-0.552-0.445-1-1-1c-0.553,0-1,0.448-1,1v5.333
		C19.5,6.885,19.949,7.333,20.5,7.333z M20.5,33.667c-0.553,0-1,0.448-1,1V40c0,0.552,0.447,1,1,1c0.555,0,1-0.448,1-1v-5.333
		C21.5,34.115,21.055,33.667,20.5,33.667z M40,19.5h-5.334c-0.553,0-1,0.448-1,1s0.447,1,1,1H40c0.555,0,1-0.448,1-1
		S40.555,19.5,40,19.5z M7.332,20.5c0-0.552-0.446-1-1-1H1c-0.553,0-1,0.448-1,1s0.447,1,1,1h5.332
		C6.886,21.5,7.332,21.052,7.332,20.5z M30.52,11.482c0.256,0,0.512-0.098,0.707-0.293l3.771-3.771c0.392-0.391,0.392-1.024,0-1.414
		c-0.392-0.391-1.022-0.391-1.414,0l-3.771,3.771c-0.393,0.391-0.393,1.024,0,1.414C30.006,11.385,30.264,11.482,30.52,11.482z
		 M9.776,29.811l-3.771,3.771c-0.391,0.391-0.391,1.023,0,1.414c0.195,0.195,0.451,0.293,0.707,0.293s0.512-0.098,0.707-0.293
		l3.771-3.771c0.392-0.39,0.392-1.021,0-1.414C10.799,29.42,10.166,29.42,9.776,29.811z M31.227,29.811
		c-0.393-0.391-1.022-0.391-1.414,0c-0.393,0.392-0.393,1.023,0,1.414l3.771,3.771c0.194,0.195,0.451,0.293,0.707,0.293
		s0.512-0.098,0.707-0.293c0.392-0.391,0.392-1.023,0-1.414L31.227,29.811z M9.776,11.189c0.195,0.195,0.451,0.293,0.707,0.293
		c0.257,0,0.513-0.098,0.707-0.293c0.392-0.391,0.392-1.024,0-1.414L7.419,6.004c-0.392-0.391-1.023-0.391-1.414,0
		s-0.391,1.024,0,1.414L9.776,11.189z M24.979,8.119c0.113,0.041,0.229,0.06,0.342,0.06c0.408,0,0.795-0.253,0.939-0.66l1.815-5.015
		c0.188-0.519-0.082-1.093-0.601-1.281c-0.521-0.188-1.094,0.081-1.281,0.6l-1.815,5.015C24.191,7.357,24.461,7.931,24.979,8.119z
		 M16.021,32.881c-0.521-0.188-1.092,0.081-1.28,0.6l-1.814,5.017c-0.188,0.521,0.08,1.093,0.6,1.28
		c0.113,0.041,0.227,0.061,0.34,0.061c0.41,0,0.793-0.253,0.941-0.66l1.814-5.015C16.808,33.643,16.541,33.068,16.021,32.881z
		 M39.177,26.195L34.16,24.38c-0.518-0.188-1.092,0.081-1.279,0.601s0.08,1.094,0.602,1.28l5.017,1.815
		c0.11,0.041,0.228,0.06,0.34,0.06c0.408,0,0.793-0.253,0.938-0.659C39.963,26.957,39.695,26.383,39.177,26.195z M1.826,14.805
		L6.84,16.62c0.113,0.041,0.227,0.06,0.34,0.06c0.41,0,0.793-0.253,0.941-0.66c0.188-0.52-0.082-1.093-0.603-1.281l-5.015-1.815
		c-0.518-0.187-1.092,0.081-1.28,0.6C1.037,14.043,1.306,14.617,1.826,14.805z M32.422,14.914c0.171,0.363,0.531,0.576,0.906,0.576
		c0.145,0,0.287-0.03,0.424-0.095l4.83-2.263c0.5-0.234,0.715-0.83,0.48-1.33c-0.235-0.5-0.828-0.716-1.33-0.481l-4.83,2.263
		C32.402,13.818,32.188,14.414,32.422,14.914z M8.578,26.086c-0.232-0.5-0.828-0.715-1.328-0.48l-4.83,2.264
		c-0.502,0.232-0.717,0.83-0.482,1.33c0.17,0.361,0.531,0.574,0.906,0.574c0.143,0,0.287-0.028,0.424-0.094l4.83-2.263
		C8.597,27.182,8.812,26.586,8.578,26.086z M27.416,32.904c-0.232-0.5-0.83-0.715-1.33-0.481c-0.5,0.234-0.715,0.83-0.479,1.33
		l2.263,4.829c0.17,0.363,0.53,0.576,0.905,0.576c0.144,0,0.287-0.03,0.425-0.094c0.5-0.234,0.715-0.83,0.479-1.33L27.416,32.904z
		 M13.584,8.096c0.17,0.363,0.529,0.576,0.906,0.576c0.141,0,0.285-0.03,0.424-0.095c0.5-0.234,0.715-0.83,0.48-1.33L13.13,2.418
		c-0.234-0.499-0.828-0.716-1.33-0.481c-0.5,0.234-0.715,0.83-0.48,1.33L13.584,8.096z"
            />
          </g>
        </svg>
      </button>
    </div>
  </header>
</template>

<script setup>
const colorMode = useColorMode();

const setColorMode = (newMode) => (colorMode.preference = newMode);
</script>

<style lang="scss">
html.dark-mode {
  .header {
    a {
      color: white;
      &::before {
        border-bottom: 2px solid white;
      }

      &.router-link-active::before {
        border-bottom: 2px solid#dd6d11;
      }
    }
  }
}

.header {
  padding: 1.75rem 3.25rem;
  display: flex;
  justify-content: space-between;

  &__logo {
    max-width: 270px;
  }

  &__right {
    min-width: 10%;
    display: flex;
    justify-content: space-around;
    align-items: center;
    font-size: 1.25rem;
    gap: 1.25rem;

    .button {
      background: none;
      border: none;
      cursor: pointer;

      &:hover,
      :active {
        svg > path {
          fill: lighten(#1b1c1e, 30%);
        }
      }
    }

    a {
      text-decoration: none;
      color: #1b1c1e;
      position: relative;

      &::before {
        content: "";
        position: absolute;
        top: 0;
        right: 100%;
        width: 0;
        height: 120%;
        border-bottom: 2px solid#1b1c1e;
        transition: 0.2s all linear;
      }

      &:hover::before {
        width: 100%;
        right: 0;
      }
      &:hover ~ &::before {
        right: 0;
      }

      &.router-link-active::before {
        content: "";
        position: absolute;
        top: 0;
        right: 0;
        width: 100%;
        height: 120%;
        border-bottom: 2px solid#dd6d11;
      }
    }
  }
}
</style>
